---
// IMPORTS
import "../styles/global.css";
import logo from "../assets/logoColoresNavbar.svg"; // Ruta a tu logo principal
import logoScroll from "../assets/logoColores.svg"; // Ruta al logo para scroll
---

<header
    class="sticky top-0 z-50 bg-white transition-all duration-300"
    id="navbar"
>
    <nav
        class="container mx-auto flex items-center justify-between p-4 relative"
    >
        <!-- Logo -->
        <a href="/" class="transition-all duration-300" id="logo-container">
            <img
                src={logo.src}
                alt="Logo"
                class="h-8 w-auto md:h-10"
                id="logo"
            />
        </a>

        <!-- Menú hamburguesa (visible en móviles) -->
        <button id="menu-toggle" class="md:hidden block focus:outline-none">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-6 h-6"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
        </button>

        <!-- Enlaces (ocultos en móviles, visibles en pantallas grandes) -->
        <div
            id="nav-links"
            class="hidden md:flex space-x-6 transition-all duration-300 justify-center md:justify-start"
        >
            <!-- Menú desplegable "Industrias" -->
            <div class="relative group">
                <a href="#" class="px-3 py-2 flex items-center">
                    Industrias
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-6 h-6 ml-1 transition-transform duration-300 group-hover:rotate-180"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path>
                    </svg>
                </a>
                <div
                    class="absolute hidden group-hover:block bg-white border border-gray-300 shadow-lg top-full left-0 z-10 w-48"
                >
                    <a href="#" class="block px-4 py-2 hover:bg-purple-100"
                        >Electrónica</a
                    >
                    <a href="#" class="block px-4 py-2 hover:bg-yellow-100"
                        >Computación</a
                    >
                    <a href="#" class="block px-4 py-2 hover:bg-cyan-100"
                        >Control/Robótica</a
                    >
                    <a href="#" class="block px-4 py-2 hover:bg-green-100"
                        >Comunicaciones</a
                    >
                    <a href="#" class="block px-4 py-2 hover:bg-red-100"
                        >Multimedia</a
                    >
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                        >Ver todas las industrias</a
                    >
                </div>
            </div>

            <!-- Menú desplegable "Servicios" -->
            <div class="relative group">
                <a href="#" class="px-3 py-2 flex items-center">
                    Servicios
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-6 h-6 ml-1 transition-transform duration-300 group-hover:rotate-180"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path>
                    </svg>
                </a>
                <div
                    class="absolute hidden group-hover:block bg-white border border-gray-300 rounded-md shadow-lg top-full left-0 z-10 w-48"
                >
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                        >Desarrollo</a
                    >
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                        >Consultoría</a
                    >
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                        >Ver todos los servicios</a
                    >
                </div>
            </div>

            <!-- Menú desplegable "Acerca de GT" -->
            <div class="relative group">
                <a href="#" class="px-3 py-2 flex items-center">
                    Acerca de GT
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-6 h-6 ml-1 transition-transform duration-300 group-hover:rotate-180"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path>
                    </svg>
                </a>
                <div
                    class="absolute hidden group-hover:block bg-white border border-gray-300 rounded-md shadow-lg top-full left-0 z-10 w-48"
                >
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                        >Nosotros</a
                    >
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                        >Misión</a
                    >
                    <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                        >Visión</a
                    >
                </div>
            </div>

            <a href="#" class="px-3 py-2">Soporte</a>
        </div>

        <!-- Icono de usuario -->
        <div class="relative">
            <a
                href="#"
                class="rounded-full bg-gray-200 w-10 h-10 flex items-center justify-center"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-6 h-6"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M17.982 18.725A7.488 7.488 0 0012 15.75c-1.293 0-2.565.235-3.797.675a7.488 7.488 0 00-6.223 2.765M12 15.75l-.394 1.183a2.1 2.1 0 01-.377 1.247m.02-.099a2.022 2.022 0 01-.574 2.005 2.022 2.022 0 01-1.44-.005A48.114 48.114 0 014.454 21.255m0 0h14.091m0 0a9.968 9.968 0 00-.399-3.03"
                    ></path>
                </svg>
            </a>
        </div>
    </nav>

    <!-- Menú móvil (colapsado) -->
    <div
        id="mobile-menu"
        class="hidden md:hidden absolute top-16 left-0 w-full bg-white shadow-lg z-50"
    >
        <a href="#" class="block px-4 py-2 hover:bg-gray-100">Industrias</a>
        <a href="#" class="block px-4 py-2 hover:bg-gray-100">Servicios</a>
        <a href="#" class="block px-4 py-2 hover:bg-gray-100">Acerca de GT</a>
        <a href="#" class="block px-4 py-2 hover:bg-gray-100">Soporte</a>
    </div>
</header>

<div
    id="overlay"
    class="fixed top-0 left-0 w-full h-full bg-black opacity-0 transition-opacity duration-300 z-40 hidden"
>
</div>
{/* Overlay */}

<script>
    // Cambio de logo y ajuste de estilos al hacer scroll
    const logoScrollSrc = "src/assets/logoColores.svg"; // Ruta correcta del logo para scroll
    const navbar = document.getElementById("navbar");
    const logoContainer = document.getElementById("logo-container");
    const logo = document.getElementById("logo");
    const navLinks = document.getElementById("nav-links");

    if (navbar && logoContainer && logo && navLinks) {
        const logoDefaultSrc = "src/assets/logoColoresNavbar.svg"; // Ruta correcta del logo original

        window.addEventListener("scroll", () => {
            if (window.scrollY > 50) {
                // Cambios al hacer scroll
                logo.src = logoScrollSrc;
                navLinks.className =
                    "flex space-x-6 ml-auto transition-all duration-300";
            } else {
                // Restaura los estilos iniciales
                logo.src = logoDefaultSrc;
                navLinks.className =
                    "flex space-x-6 absolute left-1/2 transform -translate-x-1/2 transition-all duration-300";
            }
        });
    }

    // Funcionalidad del overlay para el menú desplegable
    const menuItems = document.querySelectorAll("#nav-links .group"); // Selecciona los elementos con menú
    const overlay = document.getElementById("overlay");
    if (overlay) {
        menuItems.forEach((item) => {
            item.addEventListener("mouseenter", () => {
                overlay.classList.remove("hidden");
                overlay.classList.add("opacity-50"); // Ajusta la opacidad del overlay
            });
            item.addEventListener("mouseleave", () => {
                overlay.classList.remove("opacity-50");
                overlay.classList.add("hidden");
            });
        });
    }

    // Toggle del menú móvil
    const menuToggle = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");

    if (menuToggle && mobileMenu) {
        menuToggle.addEventListener("click", () => {
            mobileMenu.classList.toggle("hidden");
        });
    }
</script>